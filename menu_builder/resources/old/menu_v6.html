
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Menu</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #1a1a1a;
            color: #f0f0f0;
            margin: 0;
            padding: 0;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }
        header {
            background-color: #2a2a2a;
            padding: 20px 40px;
            border-bottom: 2px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        header h1 {
            margin: 0;
            color: #00bcd4; /* A modern teal for branding */
        }
        .header-buttons button {
            background-color: #00bcd4;
            color: #fff;
            border: none;
            padding: 10px 15px;
            margin-left: 10px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .header-buttons button:hover {
            background-color: #0097a7;
        }
        main {
            padding: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
            flex-grow: 1;
        }
        .menu-card {
            background-color: #2a2a2a;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
            overflow: hidden;
            width: 300px;
            display: flex;
            flex-direction: column;
            transition: transform 0.2s ease-in-out;
        }
        .menu-card:hover {
            transform: translateY(-5px);
        }
        .menu-card img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-bottom: 1px solid #333;
        }
        .card-content {
            padding: 15px;
            flex-grow: 1;
            display: flex;
            flex-direction: column;
        }
        .card-content h2, .card-content p {
            margin-top: 0;
            margin-bottom: 10px;
        }
        .card-content h2 {
            color: #00bcd4;
            font-size: 1.5em;
            display: flex;
            align-items: center;
        }
        .card-content .price {
            font-size: 1.2em;
            color: #f39c12; /* A vibrant orange for prices */
            font-weight: bold;
            display: flex;
            align-items: center;
        }
        .card-content .description {
            font-size: 0.9em;
            color: #ccc;
            flex-grow: 1;
            display: flex;
            align-items: center;
        }
        .edit-btn, .tts-btn {
            background: none;
            border: none;
            color: #888;
            cursor: pointer;
            font-size: 0.8em;
            margin-left: 5px;
            transition: color 0.2s ease;
        }
        .edit-btn:hover, .tts-btn:hover {
            color: #00bcd4;
        }
        .feedback-section {
            background-color: #2a2a2a;
            padding: 20px;
            margin-top: 20px;
            border-top: 2px solid #333;
            text-align: center;
        }
        .feedback-section textarea {
            width: 80%;
            max-width: 600px;
            height: 100px;
            background-color: #1a1a1a;
            border: 1px solid #444;
            color: #f0f0f0;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 10px;
        }
        .feedback-section button {
            background-color: #00bcd4;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        .feedback-section button:hover {
            background-color: #0097a7;
        }
        .star-rating {
            direction: rtl;
            display: inline-block;
            margin-top: 10px;
        }
        .star-rating input[type="radio"] {
            display: none;
        }
        .star-rating label {
            color: #444;
            font-size: 30px;
            padding: 0 5px;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        .star-rating input[type="radio"]:checked ~ label,
        .star-rating label:hover,
        .star-rating label:hover ~ label {
            color: #f39c12;
        }
        .feedback-message {
            margin-top: 10px;
            color: #00bcd4;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <header>
        <h1>The Wharfside Grill</h1>
        <div class="header-buttons">
            <button onclick="saveChanges()">üíæ Save Changes</button>
            <button onclick="exportFinal()">üöÄ Export Final</button>
        </div>
    </header>

    <main>
        <div class="menu-card">
            <img src="images/steaming_clam_chowder_bread_bowl.png" alt="Sourdough Bowl with Clam Chowder">
            <div class="card-content">
                <h2 contenteditable="false" data-field="name">Sourdough Bowl with Clam Chowder <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></h2>
                <p class="price" contenteditable="false" data-field="price">12 dollars <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></p>
                <p class="description" contenteditable="false" data-field="description">A San Francisco classic. Our creamy New England-style clam chowder is served in a freshly baked, crusty sourdough bread bowl from a local bakery. <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></p>
                <div class="star-rating" data-dish-name="Sourdough_Bowl_with_Clam_Chowder">
                    <input type="radio" id="star5-chowder" name="rating-chowder" value="5" /><label for="star5-chowder" title="5 stars">&#9733;</label>
                    <input type="radio" id="star4-chowder" name="rating-chowder" value="4" /><label for="star4-chowder" title="4 stars">&#9733;</label>
                    <input type="radio" id="star3-chowder" name="rating-chowder" value="3" /><label for="star3-chowder" title="3 stars">&#9733;</label>
                    <input type="radio" id="star2-chowder" name="rating-chowder" value="2" /><label for="star2-chowder" title="2 stars">&#9733;</label>
                    <input type="radio" id="star1-chowder" name="rating-chowder" value="1" /><label for="star1-chowder" title="1 star">&#9733;</label>
                </div>
                <div class="feedback-message" id="message-chowder"></div>
            </div>
        </div>

        <div class="menu-card">
            <img src="images/grilled_steak_dinner.png" alt="Pier 39 Ribeye">
            <div class="card-content">
                <h2 contenteditable="false" data-field="name">Pier 39 Ribeye <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></h2>
                <p class="price" contenteditable="false" data-field="price">$42.00 <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></p>
                <p class="description" contenteditable="false" data-field="description">This is our signature steak dish, a perfectly marbled 12oz Prime Ribeye. We grill this magnificent cut to your exact preference, sealing in the succulent juices and rich flavor that make it a true classic. The steak is served alongside our creamy garlic mashed potatoes and fresh, seasonal vegetables sourced from local California farms. <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></p>
                <div class="star-rating" data-dish-name="Pier_39_Ribeye">
                    <input type="radio" id="star5-ribeye" name="rating-ribeye" value="5" /><label for="star5-ribeye" title="5 stars">&#9733;</label>
                    <input type="radio" id="star4-ribeye" name="rating-ribeye" value="4" /><label for="star4-ribeye" title="4 stars">&#9733;</label>
                    <input type="radio" id="star3-ribeye" name="rating-ribeye" value="3" /><label for="star3-ribeye" title="3 stars">&#9733;</label>
                    <input type="radio" id="star2-ribeye" name="rating-ribeye" value="2" /><label for="star2-ribeye" title="2 stars">&#9733;</label>
                    <input type="radio" id="star1-ribeye" name="rating-ribeye" value="1" /><label for="star1-ribeye" title="1 star">&#9733;</label>
                </div>
                <div class="feedback-message" id="message-ribeye"></div>
            </div>
        </div>

        <div class="menu-card">
            <img src="images/whole_cooked_crab.png" alt="Fisherman's Catch (Dungeness Crab)">
            <div class="card-content">
                <h2 contenteditable="false" data-field="name">Fisherman's Catch (Dungeness Crab) <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></h2>
                <p class="price" contenteditable="false" data-field="price">$55.00 <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></p>
                <p class="description" contenteditable="false" data-field="description">A whole steamed Dungeness crab, caught locally and served with drawn butter, lemon, and a side of garlic bread. This dish offers an authentic taste of Fisherman's Wharf and is perfect for sharing. <button class="edit-btn" onclick="toggleEdit(this)">‚úèÔ∏è</button> <button class="tts-btn" onclick="speakText(this)">üîä</button></p>
                <div class="star-rating" data-dish-name="Fishermans_Catch_Dungeness_Crab">
                    <input type="radio" id="star5-crab" name="rating-crab" value="5" /><label for="star5-crab" title="5 stars">&#9733;</label>
                    <input type="radio" id="star4-crab" name="rating-crab" value="4" /><label for="star4-crab" title="4 stars">&#9733;</label>
                    <input type="radio" id="star3-crab" name="rating-crab" value="3" /><label for="star3-crab" title="3 stars">&#9733;</label>
                    <input type="radio" id="star2-crab" name="rating-crab" value="2" /><label for="star2-crab" title="2 stars">&#9733;</label>
                    <input type="radio" id="star1-crab" name="rating-crab" value="1" /><label for="star1-crab" title="1 star">&#9733;</label>
                </div>
                <div class="feedback-message" id="message-crab"></div>
            </div>
        </div>
    </main>

    <div class="feedback-section">
        <h2>General Feedback</h2>
        <textarea id="general-feedback-text" placeholder="Share your thoughts about our menu..."></textarea>
        <button onclick="submitGeneralFeedback()">Submit Feedback</button>
        <div class="feedback-message" id="general-feedback-message"></div>
    </div>

    <script>
        document.querySelectorAll('.star-rating input[type="radio"]').forEach(radio => {
            radio.addEventListener('change', function() {
                const dishName = this.closest('.star-rating').dataset.dishName;
                const rating = this.value;
                submitStarRating(dishName, rating, this.closest('.card-content').querySelector('.feedback-message'));
            });
        });

        async function submitStarRating(dishName, rating, messageElement) {
            const payload = {
                dish_name: dishName,
                rating: parseInt(rating)
            };
            await sendFeedback(payload, messageElement);
        }

        async function submitGeneralFeedback() {
            const feedbackText = document.getElementById('general-feedback-text').value;
            if (feedbackText.trim() === '') {
                alert('Please enter your feedback before submitting.');
                return;
            }
            const payload = {
                comment: feedbackText
            };
            await sendFeedback(payload, document.getElementById('general-feedback-message'));
            document.getElementById('general-feedback-text').value = ''; // Clear textarea
        }

        async function sendFeedback(payload, messageElement) {
            try {
                const response = await fetch('https://webhook-test.com/800a51aae652ca5a4537b46b8b114c71', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });

                if (response.ok) {
                    messageElement.textContent = 'Thank you for your feedback!';
                    setTimeout(() => messageElement.textContent = '', 3000); // Clear message after 3 seconds
                } else {
                    messageElement.textContent = 'Failed to send feedback. Please try again.';
                    messageElement.style.color = 'red';
                }
            } catch (error) {
                console.error('Error sending feedback:', error);
                messageElement.textContent = 'An error occurred. Please try again.';
                messageElement.style.color = 'red';
            }
        }

        function toggleEdit(button) {
            const target = button.parentElement;
            const isEditable = target.contentEditable === 'true';
            target.contentEditable = !isEditable;
            target.focus();
            button.textContent = isEditable ? '‚úèÔ∏è' : '‚úÖ';
            button.style.color = isEditable ? '#888' : '#00bcd4';
        }

        function speakText(button) {
            const textToSpeak = button.parentElement.textContent.replace('‚úèÔ∏è', '').replace('üîä', '').trim();
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(textToSpeak);
                utterance.lang = 'en-US';
                window.speechSynthesis.speak(utterance);
            } else {
                alert('Text-to-speech not supported in your browser.');
            }
        }

        function saveChanges() {
            const menuData = [];
            document.querySelectorAll('.menu-card').forEach(card => {
                const name = card.querySelector('h2').textContent.replace('‚úèÔ∏è', '').replace('üîä', '').trim();
                const price = card.querySelector('.price').textContent.replace('‚úèÔ∏è', '').replace('üîä', '').trim();
                const description = card.querySelector('.description').textContent.replace('‚úèÔ∏è', '').replace('üîä', '').trim();
                menuData.push({ name, price, description });
            });
            console.log('Saved Changes:', menuData);
            alert('Changes saved to console! (This is a placeholder for actual saving)');
            // In a real application, you would send this data to a backend.
        }

        function exportFinal() {
            const htmlContent = document.documentElement.outerHTML;
            const blob = new Blob([htmlContent], { type: 'text/html' });
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'exported_menu.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            alert('Menu exported as exported_menu.html!');
        }
    </script>
</body>
</html>
